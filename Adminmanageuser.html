<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin - Customer List | Minion Shoe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; display: flex; height: 100vh; background-color: #f1f4f6; }
        
        /* Sidebar */
        .sidebar { width: 260px; background-color: #1a1a1a; color: #fff; display: flex; flex-direction: column; padding: 20px; }
        .brand { font-size: 1.5rem; font-weight: bold; text-align: center; margin-bottom: 40px; letter-spacing: 1px; color: #ff6b6b; } 
        .sidebar a { text-decoration: none; color: #b3b3b3; padding: 12px 15px; margin-bottom: 8px; display: block; border-radius: 6px; transition: 0.3s; }
        .sidebar a:hover, .sidebar a.active { background-color: #333; color: white; border-left: 4px solid #ff6b6b; }

        /* Content Area */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; }
        
        /* Header & Search */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        
        /* 2. æ–°å¢æœç´¢æ¡†æ ·å¼ */
        .search-box {
            position: relative;
            margin-right: 20px;
        }
        .search-box input {
            padding: 10px 15px 10px 35px; /* å·¦è¾¹ç•™ç©ºç»™å›¾æ ‡ */
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            width: 250px;
            transition: 0.3s;
        }
        .search-box input:focus { border-color: #ff6b6b; width: 280px; }
        .search-box i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
        }

        /* Stats Cards */
        .stats-row { display: flex; gap: 20px; margin-bottom: 30px; }
        .stat-card { background: white; padding: 20px; flex: 1; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: 0.3s; }
        .stat-card:hover { transform: translateY(-3px); }
        .stat-card h4 { margin: 0; color: #888; font-size: 0.9em; }
        .stat-card p { margin: 5px 0 0; font-size: 1.8em; font-weight: bold; color: #333; }

        /* Table Styling */
        .table-container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 15px; border-bottom: 2px solid #eee; color: #666; font-size: 0.9em; text-transform: uppercase; }
        td { padding: 15px; border-bottom: 1px solid #eee; vertical-align: middle; }
        
        /* Status Badges */
        .badge { padding: 5px 10px; border-radius: 20px; font-size: 0.8em; font-weight: bold; }
        .vip { background-color: #e3f2fd; color: #0d47a1; } 
        .new { background-color: #e8f5e9; color: #1b5e20; } 

        /* Buttons */
        .action-btn { border: none; background: none; cursor: pointer; color: #666; font-weight: bold; margin-right: 10px; transition: 0.2s; }
        .action-btn:hover { color: #1a1a1a; }
        
        /* 3. åˆ é™¤æŒ‰é’®æ ·å¼ */
        .delete-btn { color: #ff6b6b; }
        .delete-btn:hover { color: #d32f2f; transform: scale(1.1); }

        .add-btn { background-color: #ff6b6b; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; transition: 0.3s; }
        .add-btn:hover { background-color: #e05e5e; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="brand">ğŸŒ MINION SHOE</div>
        <a href="manage_users.html" class="active"><i class="fa-solid fa-users"></i> Customers</a>
        <a href="manage_categories.html"><i class="fa-solid fa-layer-group"></i> Categories</a>
        <a href="#"><i class="fa-solid fa-shoe-prints"></i> Products</a>
        <a href="#"><i class="fa-solid fa-cart-shopping"></i> Orders</a>
        <a href="admin_login.html" style="margin-top: auto;"><i class="fa-solid fa-sign-out-alt"></i> Logout</a>
    </div>

    <div class="main-content">
        <div class="header">
            <h1>Customer Management</h1>
            
            <div style="display: flex; align-items: center;">
                <div class="search-box">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search name or email...">
                </div>
                <button class="add-btn" onclick="addNewCustomer()">+ Add Customer</button>
            </div>
        </div>

        <div class="stats-row">
            <div class="stat-card">
                <h4>Total Customers</h4>
                <p id="totalCount">1,240</p>
            </div>
            <div class="stat-card">
                <h4>VIP Members</h4>
                <p>85</p>
            </div>
            <div class="stat-card">
                <h4>New This Week</h4>
                <p>+12</p>
            </div>
        </div>

        <div class="table-container">
            <table id="customerTable">
                <thead>
                    <tr>
                        <th>Customer</th>
                        <th>Email</th>
                        <th>Preferred Size</th>
                        <th>Total Spent</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <strong>Marcus Jordan</strong><br>
                            <small style="color:#888">Joined: Jan 2024</small>
                        </td>
                        <td>marcus@example.com</td>
                        <td>US 10.5</td>
                        <td>$450.00</td>
                        <td><span class="badge vip">VIP</span></td>
                        <td>
                            <button class="action-btn"><i class="fa-solid fa-pen"></i></button>
                            <button class="action-btn delete-btn" onclick="deleteRow(this)"><i class="fa-solid fa-trash"></i></button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Sarah Connor</strong><br>
                            <small style="color:#888">Joined: Feb 2024</small>
                        </td>
                        <td>sarah@test.com</td>
                        <td>UK 6</td>
                        <td>$120.00</td>
                        <td><span class="badge new">New</span></td>
                        <td>
                            <button class="action-btn"><i class="fa-solid fa-pen"></i></button>
                            <button class="action-btn delete-btn" onclick="deleteRow(this)"><i class="fa-solid fa-trash"></i></button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Tom Holland</strong><br>
                            <small style="color:#888">Joined: Dec 2023</small>
                        </td>
                        <td>spidey@web.com</td>
                        <td>US 9</td>
                        <td>$890.00</td>
                        <td><span class="badge vip">VIP</span></td>
                        <td>
                            <button class="action-btn"><i class="fa-solid fa-pen"></i></button>
                            <button class="action-btn delete-btn" onclick="deleteRow(this)"><i class="fa-solid fa-trash"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // 1. æœç´¢åŠŸèƒ½ (Search Filter)
        const searchInput = document.getElementById('searchInput');
        const table = document.getElementById('customerTable');
        const rows = table.getElementsByTagName('tr');

        searchInput.addEventListener('keyup', function() {
            const filter = searchInput.value.toLowerCase();

            // ä»ç¬¬1è¡Œå¼€å§‹å¾ªç¯ï¼ˆè·³è¿‡è¡¨å¤´ï¼‰
            for (let i = 1; i < rows.length; i++) {
                const nameCol = rows[i].getElementsByTagName('td')[0];
                const emailCol = rows[i].getElementsByTagName('td')[1];
                
                if (nameCol || emailCol) {
                    const nameText = nameCol.textContent || nameCol.innerText;
                    const emailText = emailCol.textContent || emailCol.innerText;

                    // å¦‚æœåå­—æˆ–é‚®ç®±åŒ…å«æœç´¢è¯ï¼Œå°±æ˜¾ç¤ºï¼Œå¦åˆ™éšè—
                    if (nameText.toLowerCase().indexOf(filter) > -1 || emailText.toLowerCase().indexOf(filter) > -1) {
                        rows[i].style.display = "";
                    } else {
                        rows[i].style.display = "none";
                    }
                }       
            }
        });

        // 2. åˆ é™¤åŠŸèƒ½ (Delete Row)
        function deleteRow(btn) {
            // å¼¹å‡ºç¡®è®¤æ¡†
            if (confirm("Are you sure you want to delete this customer?")) {
                // æ‰¾åˆ°æŒ‰é’®æ‰€åœ¨çš„è¡Œ (tr)
                const row = btn.parentNode.parentNode;
                // ç§»é™¤è¡Œ
                row.remove();
                
                // 3. ç®€å•çš„åŠ¨æ€æ›´æ–°ç»Ÿè®¡æ•°å­— (Update Stats)
                updateTotalCount();
            }
        }

        function updateTotalCount() {
            // è¿™é‡Œçš„é€»è¾‘åªæ˜¯æ¨¡æ‹Ÿæ›´æ–°æ•°å­—
            let countElement = document.getElementById('totalCount');
            // å»æ‰é€—å·ï¼Œè½¬æˆæ•°å­—ï¼Œå‡ 1
            let currentCount = parseInt(countElement.innerText.replace(/,/g, ''));
            currentCount--;
            // é‡æ–°åŠ ä¸Šé€—å·æ˜¾ç¤º
            countElement.innerText = currentCount.toLocaleString();
        }

        // 4. æ·»åŠ æŒ‰é’®æ¨¡æ‹Ÿ
        function addNewCustomer() {
            alert("This triggers a modal to add a new user. (Backend integration required)");
        }
    </script>

</body>
</html>